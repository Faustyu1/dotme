generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model ToolCategory {
  id    Int    @id @default(autoincrement())
  name  String
  tools Tool[]

  @@map("tool_categories")
}

model Tool {
  id         Int               @id @default(autoincrement())
  name       String
  icon       String
  lightColor String
  darkColor  String
  category   ToolCategory      @relation(fields: [categoryId], references: [id])
  categoryId Int
  projects   ToolsOnProjects[]

  @@index([categoryId])
  @@map("tools")
}

model Social {
  id   Int    @id @default(autoincrement())
  name String
  icon String
  link String

  @@map("socials")
}

model Project {
  id          Int               @id @default(autoincrement())
  name        String
  description String
  link        String
  releasedAt  DateTime          @default(now())
  tools       ToolsOnProjects[]

  @@map("projects")
}

model ToolsOnProjects {
  project   Project @relation(fields: [projectId], references: [id])
  tool      Tool    @relation(fields: [toolId], references: [id])
  projectId Int
  toolId    Int

  @@id([projectId, toolId])
  @@index([projectId])
  @@index([toolId])
  @@map("tp")
}

model BlogPost {
  id       Int      @id @default(autoincrement())
  title    String
  slug     String   @unique
  image    String?
  postedAt DateTime @default(now())
  content  String   @db.MediumText
  unlisted Boolean  @default(true)

  @@map("posts")
}
